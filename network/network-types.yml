tosca_definitions_version: tosca_simple_yaml_1_0_0_wd06

template_name: tosca-normative-types
template_author: TOSCA TC
template_version: 1.0.0.wd06-SNAPSHOT

description: Contains the normative types definition.

metadata:
  creation_date: 2015-08-27
  date_updated: 2015-08-27
  status: working draft

# dsl_definitions
# repositories
# imports

capability_types:
  tosca.capabilities.network.Linkable:
    derived_from: tosca.capabilities.Node

relationship_types:
  tosca.relationships.network.LinksTo:
    derived_from: tosca.relationships.DependsOn
    valid_target_types: [ tosca.capabilities.network.Linkable ]
  tosca.relationships.network.BindsTo:
    derived_from: tosca.relationships.DependsOn
      valid_target_types: [ tosca.capabilities.network.Bindable ]


node_types:
  tosca.nodes.network.Network:
    derived_from: tosca.nodes.Root
    properties:
      ip_version:
        type: integer
        required: false
        default: 4
        constraints:
          - valid_values: [ 4, 6 ]
      cidr:
        type: string
        required: false
      start_ip:
   type: string
        required: false
      end_ip:
   type: string
        required: false
      gateway_ip:
        type: string
        required: false
      network_name:
        type: string
        required: false
      network_id:
        type: string
        required: false
      segmentation_id:
        type: string
        required: false
      network_type:
        type: string
        required: false
      physical_network:
        type: string
        required: false
    capabilities:
      link:
        type: tosca.capabilities.network.Linkable

  tosca.nodes.network.Port:
    derived_from: tosca.nodes.Root
    properties:
      ip_address:
        type: string
        required: false
      order:
        type: integer
        required: true
        default: 0
        constraints:
          - greater_or_equal: 0
      is_default:
        type: boolean
        required: false
        default: false
      ip_range_start:
        type: string
        required: false
      ip_range_end:
        type: string
        required: false
    requirements:
     - link:
        capability: tosca.capabilities.network.Linkable
        relationship: tosca.relationships.network.LinksTo
     - binding:
        capability: tosca.capabilities.network.Bindable
        relationship: tosca.relationships.network.BindsTo
